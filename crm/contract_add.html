<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>客户资源管理系统</title>
    <!-- 标签图标设置 -->
    <link rel="icon" href="images/favicon.ico" type="image/ico">
    <!-- SEO（搜索引擎所有关键件） -->
    <meta name="keywords" content="crm,qf">
    <meta name="description" content="这是一个解决中小企业客户资源管理的网站">
    <meta name="author" content="枫桥夜泊1990">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/materialdesignicons.min.css" rel="stylesheet">
    <link href="css/style.min.css" rel="stylesheet">
    <link rel="stylesheet" href="js/jconfirm/jquery-confirm.min.css">
</head>
<!-- 
	此代码来源于千锋南京Java教学部
	作者: 夜泊
	修改: 2020-12-30
 -->
<body>
<div class="lyear-layout-web">
    <div class="lyear-layout-container">


        <!--左侧导航-->
        <aside class="lyear-layout-sidebar">

            <!-- logo -->
            <div id="logo" class="sidebar-header">
                <a href="home.html"><img src="images/logo-sidebar.png" title="LightYear" alt="LightYear"/></a>
            </div>
            <div class="lyear-layout-sidebar-scroll">
                <nav class="sidebar-main">
                    <ul class="nav nav-drawer">
                        <li class="nav-item active"><a href="home.html"><i class="mdi mdi-home"></i> 后台首页</a></li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi-all-inclusive"></i> 线索</a>
                            <ul class="nav nav-subnav">
                                <li><a href="thread_list.html">线索列表</a></li>
                                <li><a href="thread_add.html">添加线索</a></li>
                                <li><a href="#" data-toggle="modal" data-target="#gridSystemModal">线索导入</a></li>
                            </ul>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi-account"></i> 客户</a>
                            <ul class="nav nav-subnav">
                                <li><a href="customer_list.html">客户列表</a></li>
                                <li><a href="customer_add.html">添加客户</a></li>
                            </ul>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi-dribbble"></i>公海</a>
                            <ul class="nav nav-subnav">
                                <li><a href="international_waters.html">公海列表</a></li>
                            </ul>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi mdi-dropbox"></i>合同</a>
                            <ul class="nav nav-subnav">
                                <li><a href="contract_list.html">合同列表</a></li>
                                <li><a href="contract_add.html">添加合同</a></li>
                            </ul>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi-chili-hot"></i>产品</a>
                            <ul class="nav nav-subnav">
                                <li><a href="product_list.html">产品列表</a></li>
                                <li><a href="3">添加产品</a></li>
                            </ul>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi-account-box"></i>员工</a>
                            <ul class="nav nav-subnav">
                                <li><a href="employee_list.html">员工列表</a></li>
                                <li><a href="employee_add.html">添加员工</a></li>
                            </ul>
                        </li>
                        <li class="nav-item nav-item-has-subnav">
                            <a href="javascript:void(0)"><i class="mdi mdi-codepen"></i>部门</a>
                            <ul class="nav nav-subnav">
                                <li><a href="department_list.html">部门列表</a></li>
                                <li><a href="department_add.html">添加部门</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>

                <div class="sidebar-footer">
                    <p class="copyright">Copyright &copy; 2020. <img style="width: 25px;padding-bottom: 5px;"
                                                                     src="images/fy.png"/> <a target="_blank"
                                                                                              href="https://hd1611756908.github.io/">
                        CRM</a>&nbsp; Powered By &nbsp;<a href="https://space.bilibili.com/514155929/" target="_blank"
                                                          title="枫桥夜泊">枫桥夜泊</a></p>
                </div>
            </div>

        </aside>
        <!--End 左侧导航-->

        <!--头部信息-->
        <header class="lyear-layout-header">

            <nav class="navbar navbar-default">
                <div class="topbar">

                    <div class="topbar-left">
                        <div class="lyear-aside-toggler">
                            <span class="lyear-toggler-bar"></span>
                            <span class="lyear-toggler-bar"></span>
                            <span class="lyear-toggler-bar"></span>
                        </div>
                        <span class="navbar-page-title"> 合同 - 添加合同 </span>
                    </div>

                    <ul class="topbar-right">
                        <li class="dropdown dropdown-profile">
                            <a href="javascript:void(0)" data-toggle="dropdown">
                                <img class="img-avatar img-avatar-48 m-r-10" src="images/users/avatar.jpg" alt="笔下光年"/>
                                <span>笔下光年 <span class="caret"></span></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li><a href="user_info.html"><i class="mdi mdi-account"></i> 个人信息</a></li>
                                <li><a href="user_pwd.html"><i class="mdi mdi-lock-outline"></i> 修改密码</a></li>
                                <li class="divider"></li>
                                <li><a href="#"><i class="mdi mdi-logout-variant"></i> 退出登录</a></li>
                            </ul>
                        </li>
                        <!--切换主题配色-->
                        <li class="dropdown dropdown-skin">
                            <span data-toggle="dropdown" class="icon-palette"><i class="mdi mdi-palette"></i></span>
                            <ul class="dropdown-menu dropdown-menu-right" data-stopPropagation="true">
                                <li class="drop-title"><p>主题</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="site_theme" value="default" id="site_theme_1" checked>
                    <label for="site_theme_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="site_theme" value="dark" id="site_theme_2">
                    <label for="site_theme_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="site_theme" value="translucent" id="site_theme_3">
                    <label for="site_theme_3"></label>
                  </span>
                                </li>
                                <li class="drop-title"><p>LOGO</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="logo_bg" value="default" id="logo_bg_1" checked>
                    <label for="logo_bg_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_2" id="logo_bg_2">
                    <label for="logo_bg_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_3" id="logo_bg_3">
                    <label for="logo_bg_3"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_4" id="logo_bg_4">
                    <label for="logo_bg_4"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_5" id="logo_bg_5">
                    <label for="logo_bg_5"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_6" id="logo_bg_6">
                    <label for="logo_bg_6"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_7" id="logo_bg_7">
                    <label for="logo_bg_7"></label>
                  </span>
                                    <span>
                    <input type="radio" name="logo_bg" value="color_8" id="logo_bg_8">
                    <label for="logo_bg_8"></label>
                  </span>
                                </li>
                                <li class="drop-title"><p>头部</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="header_bg" value="default" id="header_bg_1" checked>
                    <label for="header_bg_1"></label>                      
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_2" id="header_bg_2">
                    <label for="header_bg_2"></label>                      
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_3" id="header_bg_3">
                    <label for="header_bg_3"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_4" id="header_bg_4">
                    <label for="header_bg_4"></label>                      
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_5" id="header_bg_5">
                    <label for="header_bg_5"></label>                      
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_6" id="header_bg_6">
                    <label for="header_bg_6"></label>                      
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_7" id="header_bg_7">
                    <label for="header_bg_7"></label>
                  </span>
                                    <span>
                    <input type="radio" name="header_bg" value="color_8" id="header_bg_8">
                    <label for="header_bg_8"></label>
                  </span>
                                </li>
                                <li class="drop-title"><p>侧边栏</p></li>
                                <li class="drop-skin-li clearfix">
                  <span class="inverse">
                    <input type="radio" name="sidebar_bg" value="default" id="sidebar_bg_1" checked>
                    <label for="sidebar_bg_1"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_2" id="sidebar_bg_2">
                    <label for="sidebar_bg_2"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_3" id="sidebar_bg_3">
                    <label for="sidebar_bg_3"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_4" id="sidebar_bg_4">
                    <label for="sidebar_bg_4"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_5" id="sidebar_bg_5">
                    <label for="sidebar_bg_5"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_6" id="sidebar_bg_6">
                    <label for="sidebar_bg_6"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_7" id="sidebar_bg_7">
                    <label for="sidebar_bg_7"></label>
                  </span>
                                    <span>
                    <input type="radio" name="sidebar_bg" value="color_8" id="sidebar_bg_8">
                    <label for="sidebar_bg_8"></label>
                  </span>
                                </li>
                            </ul>
                        </li>
                        <!--切换主题配色-->
                    </ul>

                </div>
            </nav>

        </header>
        <!--End 头部信息-->

        <!--页面主要内容-->
        <main class="lyear-layout-content">

            <div class="container-fluid">

                <!-- 表单 元素 start-->
                <div class="card">
                    <div class="card-body">

                        <form id="showProductId" class="form-horizontal" enctype="multipart/form-data"
                              action="lyear_forms_elements.html" method="post" onsubmit="return false;">
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-thread">合同名称</label>
                                <div class="col-md-4">
                                    <input class="form-control" type="text" id="example-hf-thread"
                                           placeholder="请输入合同名称..">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone">合同金额</label>
                                <div class="col-md-4">
                                    <input class="form-control" type="text" id="example-hf-phone"
                                           placeholder="请输入合同金额..">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone">客户签约人</label>
                                <div class="col-md-4">
                                    <input class="form-control" type="text" id="example-hf-phone"
                                           placeholder="请输入客户签约人..">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">公司签约人</label>
                                <div class="col-md-4">
                                    <select class="form-control">
                                        <option>张三</option>
                                        <option>李四</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">客户名称</label>
                                <div class="col-md-4">
                                    <select class="form-control">
                                        <option>张三</option>
                                        <option>李四</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">负责人</label>
                                <div class="col-md-4">
                                    <select class="form-control">
                                        <option>张三</option>
                                        <option>李四</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">审批人1</label>
                                <div class="col-md-4">
                                    <select class="form-control">
                                        <option>张三</option>
                                        <option>李四</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">审批人2</label>
                                <div class="col-md-4">
                                    <select class="form-control">
                                        <option>张三</option>
                                        <option>李四</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">生效时间</label>
                                <div class="col-md-4">
                                    <input class="form-control js-datepicker" type="text" data-date-format="yyyy-mm-dd"
                                           placeholder="年-月-日">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">结束时间</label>
                                <div class="col-md-4">
                                    <input class="form-control js-datepicker" type="text" data-date-format="yyyy-mm-dd"
                                           placeholder="年-月-日">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-thread">合同附件</label>
                                <div class="col-md-4">
                                    <input class="form-control" type="file" id="example-hf-thread">
                                </div>
                            </div>
                            <!-- 添加产品-->
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-pro">产品列表</label>
                                <div class="col-md-4">
                                    <div class="form-control" style="height: 100%;" id="showLabel">
                                        <span style="display: inline-block ;height: 1.24375rem;width: 0px;padding-left: 0px;"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="example-hf-phone1">合同产品</label>
                                <div class="col-md-4">
                                    <div class="col-md-4" style="padding-left: 0px;">
                                        <select class="form-control" id="productEleId">
                                            <option value="2001">小米8青春版</option>
                                            <option value="3001">小米CC9E青春版</option>
                                        </select>
                                    </div>
                                    <input class="form-control" id="productEleCount"
                                           style="display: inline-block; width: 31%;" type="text" placeholder="产品数量..">
                                    <button type="button" id="productBtn" class="form-control btn btn-brown"
                                            style="float: right; width: 25%;">添加
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-9 col-md-offset-3">
                                    <button class="btn btn-info btn-w-md" type="submit">保存</button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
                <!-- 表单 元素 end-->

            </div>

        </main>
        <!--End 页面主要内容-->
    </div>
</div>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/perfect-scrollbar.min.js"></script>
<!--时间选择插件-->
<script src="js/bootstrap-datetimepicker/moment.min.js"></script>
<script src="js/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>
<script src="js/bootstrap-datetimepicker/locale/zh-cn.js"></script>
<!--日期选择插件-->
<script src="js/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="js/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js"></script>
<script type="text/javascript" src="js/main.min.js"></script>
<!--图表插件-->
<script type="text/javascript" src="js/Chart.js"></script>
<script src="js/jconfirm/jquery-confirm.min.js"></script>
<script type="text/javascript">

    //删除已添加标签
    var lcs = $(".labelClass");
    for (var i = 0; i < lcs.length; i++) {
        $(lcs[i]).click(function () {
            //删除展示标签
            $(this.parentNode).remove();
            //删除form表单中的隐藏input数据
            //获取ID
            var pid = this.parentNode.id;
            console.log(pid)
            var cccc = $("#showProductId input[class=" + pid + "]:hidden");
            cccc.remove();
        });
    }
    //根据按钮添加标签
    $("#productBtn").click(function () {

        //获取选中参数
        var count = $("#productEleCount").val();//获取数量
        var productId = $("#productEleId option:selected").val(); //获取下拉框选中的参数
        var productName = $("#productEleId option:selected").html();//获取名称
        //拼接参数
        var productInfo = productId + "=" + count;
        console.log(productInfo);
        console.log(productName);
        //拼接样式,并将其展示到指定位置

        var span1 = $("<span></span>");
        //设置类名
        span1.addClass("label label-primary");
        //设置属性值
        span1.attr("id", "p" + productId);
        span1.attr("style", "margin-right: 0.1875rem;");
        //创建子节点
        var pNEle = $("<span>" + productName + " " + count + "台</span>");

        var pNEle2 = ("<span class=\"labelClass\" style=\"padding-left: 0.25rem; padding-right: 0.25rem;cursor: pointer;font-weight: bold;\">x</span>")

        //子节点设置到父节点中
        span1.append(pNEle);
        span1.append(pNEle2);

        $("#showLabel").append(span1);

        //获取表单元素
        var spEle = $("#showProductId");
        //添加input控件
        //创建input控件
        var pInfo = $("<input type=\"hidden\" class=p" + productId + " value=" + productInfo + " name=\"productInfo\" />");
        //添加到form表单中,设置类型为隐藏
        spEle.prepend(pInfo);
        console.log(spEle[0]);
        //重新绑定事件

        var lcs = $(".labelClass");
        for (var i = 0; i < lcs.length; i++) {
            $(lcs[i]).click(function () {
                //删除展示标签
                $(this.parentNode).remove();
                //删除form表单中的隐藏input数据
                //获取ID
                var pid = this.parentNode.id;
                console.log(pid)
                var cccc = $("#showProductId input[class=" + pid + "]:hidden");
                cccc.remove();
            });
        }
    });

</script>
</body>
</html>